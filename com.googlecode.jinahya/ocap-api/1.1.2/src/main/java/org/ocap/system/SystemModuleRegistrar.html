<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_13) on Fri Apr 24 12:16:36 MDT 2009 -->
<TITLE>
SystemModuleRegistrar
</TITLE>

<META NAME="date" CONTENT="2009-04-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SystemModuleRegistrar";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/ocap/system/SystemModuleRegistrar.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SystemModuleRegistrar.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.ocap.system</FONT>
<BR>
Class SystemModuleRegistrar</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.ocap.system.SystemModuleRegistrar</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>SystemModuleRegistrar</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<p>
 This class is used by an OCAP-J application to access a system 
 module.  
 </p><p>
 <b>Private Host Application</b><br>
  
 An OCAP-J application MAY register a SystemModuleHandler to act as   
 a Private Host Application. 
 If the SystemModuleHandler is registered successfully, the current 
 Private Host Application that has a matching Private Host Application 
 ID is terminated. 
 </p><p>
 <b>Man Machine Interface (MMI) Resource and Application Information 
 Resource</b><br>
 An OCAP-J application MAY register a SystemModuleHandler to access the 
 Host’s MMI and Application Information resources. If the 
 SystemModuleHandler is registered successfully, the Host's MMI Resource and
 Application Information Resource MAY not terminate, but the implementation
 SHALL pass all APDUs to the registered Handler, and the resident MMI dialog
 SHALL be hidden. 
 </p><p>
 See also Section 20 <I>Baseline Functionality</I> for details. 
 </p>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>1.0</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#SystemModuleRegistrar()">SystemModuleRegistrar</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A constructor of this class.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system">SystemModuleRegistrar</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#getInstance()">getInstance</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns a sole instance of the 
 SystemModuleRegistrar class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#registerMMIHandler(org.ocap.system.SystemModuleHandler)">registerMMIHandler</A></B>(<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system">SystemModuleHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 This method registers a SystemModuleHandler instance for 
 accessing MMI and Application Information Resource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#registerSASHandler(org.ocap.system.SystemModuleHandler, byte[])">registerSASHandler</A></B>(<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system">SystemModuleHandler</A>&nbsp;handler,
                   byte[]&nbsp;privateHostAppID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 This method registers the specified SystemModuleHandler 
 instance for the specified privateHostAppID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#unregisterMMIHandler()">unregisterMMIHandler</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 This method unregisters the SystemModuleHandler and SystemModule 
 instance of the registered application accessing MMI and Application 
 Information Resource and revives the resident MMI and Application 
 Information Resource.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#unregisterSASHandler(byte[])">unregisterSASHandler</A></B>(byte[]&nbsp;privateHostAppID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 This method unregisters the SystemModuleHandler and 
 the SystemModule instance corresponding to the specified 
 privateHostAppID, 
 and revives an original resident Private Host Application.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#unregisterSASHandler(org.ocap.system.SystemModuleHandler)">unregisterSASHandler</A></B>(<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system">SystemModuleHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 This method unregisters the specified SystemModuleHandler and 
 the corresponding SystemModule instance, 
 and revives an original resident Private Host Application.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SystemModuleRegistrar()"><!-- --></A><H3>
SystemModuleRegistrar</H3>
<PRE>
protected <B>SystemModuleRegistrar</B>()</PRE>
<DL>
<DD>A constructor of this class.  An application must use the 
 <A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#getInstance()"><CODE>getInstance()</CODE></A> method to create an 
 instance.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getInstance()"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static <A HREF="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system">SystemModuleRegistrar</A> <B>getInstance</B>()</PRE>
<DL>
<DD>This method returns a sole instance of the 
 SystemModuleRegistrar class. 
 The SystemModuleRegistrar instance is either a singleton for 
 each OCAP application or a singleton for an entire OCAP 
 implementation.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a singleton SystemModuleRegistrar instance.
<DT><B>Throws:</B>
<DD><CODE>java.lang.SecurityException</CODE> - if the caller does not have 
             MonitorAppPermission("podApplication").</DL>
</DD>
</DL>
<HR>

<A NAME="registerSASHandler(org.ocap.system.SystemModuleHandler, byte[])"><!-- --></A><H3>
registerSASHandler</H3>
<PRE>
public void <B>registerSASHandler</B>(<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system">SystemModuleHandler</A>&nbsp;handler,
                               byte[]&nbsp;privateHostAppID)</PRE>
<DL>
<DD><p>
 This method registers the specified SystemModuleHandler 
 instance for the specified privateHostAppID. 
 The Private Host Application is a logical entity defined in 
 the CableCARD Interface 2.0 Specification. 
 </p><p>
 If there is a current Private Host Application that has a 
 matching Private Host Application ID as the privateHostAppID 
 parameter, it shall be unregistered first, i.e., corresponding 
 SystemModule and SystemModuleHandler shall be unregistered. 
 The <A HREF="../../../org/ocap/system/SystemModuleHandler.html#notifyUnregister()"><CODE>SystemModuleHandler.notifyUnregister()</CODE></A> method of 
 the SystemModuleHandler to be unregistered shall be called 
 to notify its unregistration and give a chance to do a 
 termination procedure. 
 Note that the OCAP implementation shall call the 
 notifyUnregister() method in a new thread to avoid blocking. 
 </p><p>
 After the SystemModuleHandler.notifyUnregister() method returns, 
 the OCAP implementation selects an appropriate session number 
 for sending and receiving APDU. Then the OCAP implementation shall
 send the sas_connect_rqst APDU with the session automatically. 
 After establishing the SAS connection, the OCAP implementation 
 shall call the SystemModuleHandler.ready() method with a new 
 SystemModule instance. 
 <p></p>
 After ready() method is called, all APDUs shall be handled 
 by the registered OCAP-J application instead of the OCAP 
 implementation. 
 <p></p>
 If a native resident Private Host Application is implemented on 
 the Host, it shall has Java interface and be registered in a same 
 manner as the OCAP-J application. Only when no SystemModuleHandler 
 that has a matching Private Host Application ID is registered by 
 the Monitor Application, the OCAP implementation shall register 
 such a native resident Private Host Application. 
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handler</CODE> - a SystemModuleHandler instance to receive an 
             APDU from the CableCARD device. 
             If the handler has already been registered to 
             the SystemModuleRegistrar, the method does nothing 
             and throws IllegalArgumentException. 
             Multiple call of this method with different 
             SystemModuleHandler instance registers all of them.<DD><CODE>privateHostAppID</CODE> - a Private Host Application ID for the 
             specified handler. This value is defined as an 
             unsigned 64-bit value in the OpenCable CableCARD 
             Interface specification. The specified byte array 
             shall be big endian. This value is specified as 
             the private_host_application_id field in the 
             sas_connect_rqst APDU. 
             If a SystemModuleHandler instance that has a matching 
             privateHostAppID has already been registered, it 
             shall be unregistered even if it is registered by 
             another OCAP-J application.
<DT><B>Throws:</B>
<DD><CODE>java.lang.SecurityException</CODE> - if the caller does not have 
             MonitorAppPermission("podApplication").
<DD><CODE>java.lang.IllegalStateException</CODE> - if the CableCARD device is not ready.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the specified handler 
             already exists, 
             or the specified parameter is out of range.</DL>
</DD>
</DL>
<HR>

<A NAME="unregisterSASHandler(org.ocap.system.SystemModuleHandler)"><!-- --></A><H3>
unregisterSASHandler</H3>
<PRE>
public void <B>unregisterSASHandler</B>(<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system">SystemModuleHandler</A>&nbsp;handler)</PRE>
<DL>
<DD><p>
 This method unregisters the specified SystemModuleHandler and 
 the corresponding SystemModule instance, 
 and revives an original resident Private Host Application. 
 </p><p>
 In this method call, 
 the <A HREF="../../../org/ocap/system/SystemModuleHandler.html#notifyUnregister()"><CODE>SystemModuleHandler.notifyUnregister()</CODE></A> method of the 
 specified SystemModuleHandler shall be called to notify its 
 unregistration and give a chance to do a termination procedure. 
 The SystemModuleHandler and the corresponding SystemModule shall 
 be removed from the SystemModuleRegistrar after returning of 
 the notifyUnregister() method. 
 Note that the OCAP implementation shall call the 
 notifyUnregister() method in a new thread to avoid blocking. 
 </p><p>
 The OCAP implementation shall re-register a native resident 
 Private Host Application automatically (i.e., revive it), when no 
 SystemModuleHandler that has a matching Private Host Application 
 ID is registered. 
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handler</CODE> - a SystemModuleHandler instance (the Private 
             Host Application) to be unregistered. 
             If the specified handler has not been registered to 
             the SystemModuleRegistrar, the method call does 
             nothing and throws IllegalArgumentException.
<DT><B>Throws:</B>
<DD><CODE>java.lang.SecurityException</CODE> - if the caller does not have 
             MonitorAppPermission("podApplication")
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the specified handler has not 
             been registered.</DL>
</DD>
</DL>
<HR>

<A NAME="unregisterSASHandler(byte[])"><!-- --></A><H3>
unregisterSASHandler</H3>
<PRE>
public void <B>unregisterSASHandler</B>(byte[]&nbsp;privateHostAppID)</PRE>
<DL>
<DD><p>
 This method unregisters the SystemModuleHandler and 
 the SystemModule instance corresponding to the specified 
 privateHostAppID, 
 and revives an original resident Private Host Application. 
 </p><p>
 In this method call, 
 the <A HREF="../../../org/ocap/system/SystemModuleHandler.html#notifyUnregister()"><CODE>SystemModuleHandler.notifyUnregister()</CODE></A> method 
 corresponding to the specified privateHostAppID shall be 
 called to notify its unregistration and give a chance to do 
 a termination procedure. 
 The SystemModuleHandler and the corresponding SystemModule shall 
 be removed from the SystemModuleRegistrar after returning of 
 the notifyUnregister() method. 
 Note that the OCAP implementation shall call the 
 notifyUnregister() method in a new thread to avoid blocking. 
 </p><p>
 The OCAP implementation shall re-register a native resident 
 Private Host Application automatically (i.e., revive it), when no 
 SystemModuleHandler that has a matching Private Host Application 
 ID is registered. 
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>privateHostAppID</CODE> - a Private Host Application ID of the 
             Private Host Application (i.e., SystemModuleHandler) 
             to be unregistered. 
             This value is defined as an unsigned 64-bit value in 
             the OpenCable Host-POD Interface specification. 
             The specified byte array shall be a big endian. 
             If the specified privateHostAppID has not been 
             registered to the SystemModuleRegistrar, this method 
             does nothing and throws IllegalArgumentException.
<DT><B>Throws:</B>
<DD><CODE>java.lang.SecurityException</CODE> - if the caller does not have 
             MonitorAppPermission("podApplication").
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the specified privateHostAppID 
             has not been registered.</DL>
</DD>
</DL>
<HR>

<A NAME="registerMMIHandler(org.ocap.system.SystemModuleHandler)"><!-- --></A><H3>
registerMMIHandler</H3>
<PRE>
public void <B>registerMMIHandler</B>(<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system">SystemModuleHandler</A>&nbsp;handler)</PRE>
<DL>
<DD><p>
 This method registers a SystemModuleHandler instance for 
 accessing MMI and Application Information Resource. 
 The OCAP implementation shall call the 
 <A HREF="../../../org/ocap/system/SystemModuleHandler.html#ready(org.ocap.system.SystemModule)"><CODE>SystemModuleHandler.ready(org.ocap.system.SystemModule)</CODE></A> method 
 with a new SystemModule instance to send an APDU to the 
 CableCARD device. 
 </p><p>
 The resident MMI and Application Information Resources don't 
 terminate but shall pass APDU to the SystemModuleHandler. 
 The OCAP-J application can send and receive APDUs via the 
 <A HREF="../../../org/ocap/system/SystemModule.html#sendAPDU(int, byte[])"><CODE>SystemModule.sendAPDU(int, byte[])</CODE></A> and the 
 <A HREF="../../../org/ocap/system/SystemModuleHandler.html#receiveAPDU(int, int, byte[])"><CODE>SystemModuleHandler.receiveAPDU(int, int, byte[])</CODE></A> method 
 instead of the resident Resources. 
 The sessions established by the resident MMI and Application 
 Information Resource is used to send and receive the APDU. 
 See also the description of the 
 <A HREF="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system"><CODE>SystemModule</CODE></A> 
 and the <A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system"><CODE>SystemModuleHandler</CODE></A>. 
 </p><p>
 After successful registration, the resident MMI Resource shall 
 not represent the MMI dialog on the screen. 
 The Host shall close all resident MMI dialog and finalize all 
 transaction related to the MMI dialog. 
 The Host shall send the close_mmi_cnf APDU to the CableCARD device to 
 notify MMI dialog closing. 
 If the unregisterMMIHandler() is called or the OCAP-J 
 application that called this method changes its state to 
 Destroyed, the resident MMI Resource can represent the MMI 
 dialog again. 
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handler</CODE> - a SystemModuleHandler instance to receive an 
             APDU from CableCARD device. Only one SystemModuleHandler 
             can be registered. 
             If the second SystemModuleHandler is to be 
             registered, this method throws 
             IllegalArgumentException.
<DT><B>Throws:</B>
<DD><CODE>java.lang.SecurityException</CODE> - if the caller does not have 
             MonitorAppPermission("podApplication").
<DD><CODE>java.lang.IllegalStateException</CODE> - if the CableCARD device is not ready.
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the second 
             SystemModuleHandler is to be registered.</DL>
</DD>
</DL>
<HR>

<A NAME="unregisterMMIHandler()"><!-- --></A><H3>
unregisterMMIHandler</H3>
<PRE>
public void <B>unregisterMMIHandler</B>()</PRE>
<DL>
<DD><p>
 This method unregisters the SystemModuleHandler and SystemModule 
 instance of the registered application accessing MMI and Application 
 Information Resource and revives the resident MMI and Application 
 Information Resource. 
 </p><p>
 In this method call, 
 the <A HREF="../../../org/ocap/system/SystemModuleHandler.html#notifyUnregister()"><CODE>SystemModuleHandler.notifyUnregister()</CODE></A> method of the 
 SystemModuleHandler registered by the registerMMIHandler() method 
 shall be called to notify its unregistration and give a chance 
 to do a termination procedure. 
 At least, all MMI dialog shall be closed and all of the 
 transaction related to the MMI and Application Information 
 Resource shall be terminated. The OCAP-J application shall send 
 the close_mmi_cnf APDU to the CableCARD device to notify MMI dialog 
 closing. 
 The SystemModuleHandler and the corresponding SystemModule shall 
 be removed from the SystemModuleRegistrar after returning of 
 the notifyUnregister() method. I.e., after returning of the 
 notifyUnregister() method, no APDU can be sent. 
 Note that the OCAP implementation shall call the 
 notifyUnregister() method in a new thread to avoid blocking. 
 </p><p>
 After this method is called, the resident MMI and Application 
 Information Resource handles all APDUs and the resident MMI can 
 represent the MMI dialog again. 
 </p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.SecurityException</CODE> - if the caller does not have 
             MonitorAppPermission("podApplication")</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/ocap/system/SystemModuleHandler.html" title="interface in org.ocap.system"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/ocap/system/SystemModuleRegistrar.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SystemModuleRegistrar.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
