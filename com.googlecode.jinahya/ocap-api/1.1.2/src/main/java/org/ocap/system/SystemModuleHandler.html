<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_13) on Fri Apr 24 12:16:36 MDT 2009 -->
<TITLE>
SystemModuleHandler
</TITLE>

<META NAME="date" CONTENT="2009-04-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SystemModuleHandler";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/ocap/system/SystemModuleHandler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SystemModuleHandler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.ocap.system</FONT>
<BR>
Interface SystemModuleHandler</H2>
<HR>
<DL>
<DT><PRE>public interface <B>SystemModuleHandler</B></DL>
</PRE>

<P>
The SystemModuleHandler is used by an OCAP-J application  
 for the following purposes: 
 1) receive an APDU from the CableCARD device, 
 2) detect an unsent APDU to the POD in case of an error, 
 and 3) notification of becoming registered and unregistered.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system"><CODE>SystemModuleRegistrar</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleHandler.html#notifyUnregister()">notifyUnregister</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a call back method to notify that the 
 SystemModuleHandler is being unregistered and give a chance 
 to do a termination procedure.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleHandler.html#ready(org.ocap.system.SystemModule)">ready</A></B>(<A HREF="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system">SystemModule</A>&nbsp;systemModule)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a call back method to notify that this 
 SystemModuleHandler is ready to receive an APDU, and returns a 
 SystemModule to send an APDU to the CableCARD device.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleHandler.html#receiveAPDU(int, int, byte[])">receiveAPDU</A></B>(int&nbsp;apduTag,
            int&nbsp;lengthField,
            byte[]&nbsp;dataByte)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 This is a call back method to notify an APDU received from the 
 CableCARD device.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/ocap/system/SystemModuleHandler.html#sendAPDUFailed(int, byte[])">sendAPDUFailed</A></B>(int&nbsp;apduTag,
               byte[]&nbsp;dataByte)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is a call back method to notify an error has occurred 
 while sending an APDU via the <A HREF="../../../org/ocap/system/SystemModule.html#sendAPDU(int, byte[])"><CODE>SystemModule.sendAPDU(int, byte[])</CODE></A> 
 method.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="receiveAPDU(int, int, byte[])"><!-- --></A><H3>
receiveAPDU</H3>
<PRE>
void <B>receiveAPDU</B>(int&nbsp;apduTag,
                 int&nbsp;lengthField,
                 byte[]&nbsp;dataByte)</PRE>
<DL>
<DD><p>
 This is a call back method to notify an APDU received from the 
 CableCARD device.
 The APDU structure is defined in Table 16 in Section 8.3 of EIA-679-B 
 referred by [CCIF 2.0] and SCTE 28 2003. 
 The APDU structure consists of apdu_tag, length_field and data_byte.
 </p><p>
 For the Private Host Application on the SAS Resource, the 
 SystemModuleHandler is bound to a specific session number (and 
 a specific Private Host Application ID) when it is registered 
 via the <A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#registerSASHandler(org.ocap.system.SystemModuleHandler, byte[])"><CODE>SystemModuleRegistrar.registerSASHandler(org.ocap.system.SystemModuleHandler, byte[])</CODE></A> method. 
 Only the receiveAPDU() method that is bound to the session of the 
 received APDU shall be called only once by the OCAP implementation. 
 </p><p>
 For the MMI Resource and the Application Information Resource, 
 the OCAP-J application can receive APDUs for both Resources by 
 a single SystemModuleHandler. 
 The OCAP implementation shall call the receiveAPDU() method of 
 the SystemModuleHandler registered via the 
 <A HREF="../../../org/ocap/system/SystemModuleRegistrar.html#registerMMIHandler(org.ocap.system.SystemModuleHandler)"><CODE>SystemModuleRegistrar.registerMMIHandler(org.ocap.system.SystemModuleHandler)</CODE></A> method 
 only once for both the MMI and Application Information APDU. 
 </p><p>
 The OCAP implementation extract the APDU from an SPDU from 
 the CableCARD device according to the OpenCable CableCARD Interface 
 Specification, and then call this method. Note that the OCAP 
 implementation simply retrieves the field values from the APDU 
 and call this method. No validity check is done by the OCAP 
 implementation. Though SPDU and TPDU mechanism may detect a 
 destruction of the APDU structure while transmitting, the OCAP 
 shall call this method every time when it receives an APDU. In 
 such case, the parameters may be invalid so that the OCAP-J 
 application can detect an error. 
 </p><p>
 Note that if the CableCARD device returns an APDU indicating an error 
 condition, this method is called instead of the sendAPDUFailed() 
 method. 
 </p><p>
 This method shall return immediately. 
 <p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>apduTag</CODE> - an apdu_tag value in the APDU coming from the 
             CableCARD device. I.e., first 3 bytes. If the corresponding 
             bytes are missed, they are filled by zero. Note that 
             the OCAP implementation calls this method according 
             to the session number, so the apdu_tag value may be 
             out of the valid range.<DD><CODE>lengthField</CODE> - a length_field value in the APDU coming from 
             the CableCARD device.  This is a decimal int value 
             converted from a length field encoded in ASN.1 BER.
             If the corresponding bytes are missing, the value of
             this parameter is set to 0.<DD><CODE>dataByte</CODE> - an data_byte bytes in the APDU coming from the 
             CableCARD device. If the corresponding bytes are missed since 
             signaling trouble, only existing bytes are specified. 
             If they are more than expected length, all existing 
             bytes are specified. 
             The APDU consists of the specified apdu_tag, dataByte 
             and length_field. The APDU format is defined in [CCIF 2.0].</DL>
</DD>
</DL>
<HR>

<A NAME="sendAPDUFailed(int, byte[])"><!-- --></A><H3>
sendAPDUFailed</H3>
<PRE>
void <B>sendAPDUFailed</B>(int&nbsp;apduTag,
                    byte[]&nbsp;dataByte)</PRE>
<DL>
<DD>This is a call back method to notify an error has occurred 
 while sending an APDU via the <A HREF="../../../org/ocap/system/SystemModule.html#sendAPDU(int, byte[])"><CODE>SystemModule.sendAPDU(int, byte[])</CODE></A> 
 method. This method shall return immediately.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>apduTag</CODE> - an apdu_tag of the APDU that was failed to 
             be sent. 
             This is the apduTag value specified in the 
             SystemModule.sendAPDU() method.<DD><CODE>dataByte</CODE> - an data_byte of the APDU that was failed 
             to be sent. 
             This is dataByte value specified in the 
             SystemModule.sendAPDU() method.</DL>
</DD>
</DL>
<HR>

<A NAME="notifyUnregister()"><!-- --></A><H3>
notifyUnregister</H3>
<PRE>
void <B>notifyUnregister</B>()</PRE>
<DL>
<DD>This is a call back method to notify that the 
 SystemModuleHandler is being unregistered and give a chance 
 to do a termination procedure. This method returns after the 
 termination procedure has finished.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="ready(org.ocap.system.SystemModule)"><!-- --></A><H3>
ready</H3>
<PRE>
void <B>ready</B>(<A HREF="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system">SystemModule</A>&nbsp;systemModule)</PRE>
<DL>
<DD>This is a call back method to notify that this 
 SystemModuleHandler is ready to receive an APDU, and returns a 
 SystemModule to send an APDU to the CableCARD device.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>systemModule</CODE> - a SystemModule instance corresponding to 
             this SystemModuleHandler. The returned SystemModule 
             sends an APDU using the same session that this 
             SystemModuleHandler receives an APDU. 
             Null is specified, if the OCAP implementation fails 
             to establish a SAS connection or fails to create an 
             SystemModule instance due to lack of resource.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/ocap/system/SystemModuleHandler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SystemModuleHandler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
