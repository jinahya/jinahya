<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=us-ascii">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="package_files/filelist.xml">
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Ken Barringer</o:Author>
  <o:LastAuthor>Ken Barringer</o:LastAuthor>
  <o:Revision>3</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2008-03-06T22:26:00Z</o:Created>
  <o:LastSaved>2008-03-06T22:26:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>388</o:Words>
  <o:Characters>2216</o:Characters>
  <o:Company>CableLabs</o:Company>
  <o:Lines>18</o:Lines>
  <o:Paragraphs>5</o:Paragraphs>
  <o:CharactersWithSpaces>2599</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:RelyOnVML/>
 </o:OfficeDocumentSettings>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.bodytextChar
	{mso-style-name:"body text Char";
	mso-style-locked:yes;
	mso-style-link:"body text";
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;
	mso-bidi-language:AR-SA;}
p.bodytext, li.bodytext, div.bodytext
	{mso-style-name:"body text";
	mso-style-parent:"";
	mso-style-link:"body text Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.CodeExample, li.CodeExample, div.CodeExample
	{mso-style-name:"Code Example";
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:none;
	tab-stops:14.15pt 28.35pt 42.5pt 56.7pt 70.85pt 85.05pt 99.2pt 113.4pt 127.55pt 141.75pt 155.9pt 170.1pt 184.25pt 198.4pt 212.6pt 226.75pt 240.95pt 255.1pt 269.3pt 283.45pt 297.65pt 311.8pt 326.0pt 340.15pt 354.35pt 368.5pt 382.7pt 396.85pt 411.0pt 425.2pt 439.35pt 453.55pt 467.7pt 481.9pt;
	mso-layout-grid-align:none;
	text-autospace:none;
	font-size:8.0pt;
	font-family:Courier;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:Courier;
	color:black;
	mso-no-proof:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=bodytext>The org.ocap.system.event package defines various system
events. </p>

<p class=bodytext>Following is a Java example demonstrating how an application
can register to be the error event handler:<o:p></o:p></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>public
class EventListenerAppSample implements SystemEventListener<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>{<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>private final static int
MAX_EVENT_STORE = 5;<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>private static int eventCount
= 0;<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>private SystemEvent[]
imeStore = new SystemEvent[MAX_EVENT_STORE];<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/**<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* The zero argument
constructor demonstrates a possible application example where<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* the application
registers to receive error events.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>*/<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>public EventListenerAppSample()<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
Get the system event manager.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>SystemEventManager sem = SystemEventManager.getInstance();<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
Set this object as the new error event listener.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sem.setEventListener(SystemEventManager.ERROR_EVENT_LISTENER, this);<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/**<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* Receives a message
event from the implementation. This method will be used to process<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* all of the error and
informational messages sent to this registered error listener.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>*<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* This sample simply
places the messages into an array. Additional processing is<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* specific to the
application. For example, an application may look at the error code<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* and application
identifier of the event and take recovery action for specific errors,<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* in which case it
would return null. The application may return non-null indicating that<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* it has changed the
event.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>*<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>* @param see Event
generated by the system or sent by an application.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>*/<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>public void
notifyEvent(SystemEvent me)<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>System.out.print(&quot;ErrorListenerAppSample.notifyEvent(); event type:
&quot;);<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>System.out.print(me.getTypeCode());<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>System.out.print(&quot;;<span style='mso-spacerun:yes'>&nbsp;
</span>date: &quot;);<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>System.out.println(me.getDate());<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>eventCount = (eventCount == MAX_EVENT_STORE - 1) ? 0 : eventCount + 1;<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>imeStore[eventCount] = me;<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span>// Store the event for
later retrieval.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>}<o:p></o:p></span></p>

<p class=bodytext><o:p>&nbsp;</o:p></p>

<p class=bodytext>Following is a Java example demonstrating how an application
can log an error:<o:p></o:p></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>import
org.ocap.event.*;<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>public
class EventSenderSample<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>{<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>/**
Our application-specific error code. */<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>private static final int
ID_FOR_APP_SAMPLE = SystemEvent.BEGIN_APP_REC_ERROR_TYPES + 42;<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>public static void
sendTestErrorEvent() {<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
Create an error event.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ErrorEvent ee = new ErrorEvent(ID_FOR_APP_SAMPLE,
&quot;TestEvent&quot;);<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
Get the default system event logger.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>SystemEventManager sem = SystemEventManager.getInstance();<o:p></o:p></span></p>

<p class=CodeExample style='mso-line-height-alt:10.0pt'><span style='font-size:
12.0pt;font-family:"Times New Roman";color:windowtext;mso-no-proof:no'><o:p>&nbsp;</o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
Log an error to the default system error handler.<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>sem.log(ee);<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=CodeExample style='line-height:10.0pt'><span style='mso-no-proof:no'>}<o:p></o:p></span></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
