<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Thu Jan 26 16:56:17 KST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Datagram (ocap-api 1.2.1 API)</title>
<meta name="date" content="2012-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Datagram (ocap-api 1.2.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Datagram.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javax/microedition/io/ContentConnection.html" title="interface in javax.microedition.io"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javax/microedition/io/DatagramConnection.html" title="interface in javax.microedition.io"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javax/microedition/io/Datagram.html" target="_top">Frames</a></li>
<li><a href="Datagram.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">javax.microedition.io</div>
<h2 title="Interface Datagram" class="title">Interface Datagram</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../java/io/DataInput.html" title="interface in java.io">DataInput</a>, <a href="../../../java/io/DataOutput.html" title="interface in java.io">DataOutput</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">Datagram</span>
extends <a href="../../../java/io/DataInput.html" title="interface in java.io">DataInput</a>, <a href="../../../java/io/DataOutput.html" title="interface in java.io">DataOutput</a></pre>
<div class="block">This class defines an abstract interface for datagram packets.
 The implementations of this interface hold data to be
 sent or received from a <code>DatagramConnection</code> object.
 <p>
 Since this is an interface class, the internal structure
 of the datagram packets is not defined here.  However, it is
 assumed that each implementation of this interface will
 provide the following fields / state variables (the actual
 implementation and the names of these fields may vary):
 <ul>
 <li><i>buffer</i>: the internal buffer in which data is stored
 <li><i>offset</i>: the read/write offset for the internal buffer
 <li><i>length</i>: the length of the data in datagram packet
 <li><i>address</i>: the destination or source address
 <li><i>read/write pointer</i>: a pointer that is added to the
   <i>offset</i> to point to the current data location during a
   read or write operation
 </ul>
 <p>
 <strong>Reading and Writing</strong>
 <p>
 The <code>Datagram</code> interface extends interfaces
 <code>DataInput</code> and <code>DataOutput</code> in order
 to provide a simple way to read and write binary data in and out of
 the datagram buffer instead of using <code>getData</code> and
 <code>setData</code> methods. Writing automatically increments
 <i>length</i> and reading will continue while the <i>read/write pointer</i>
 is less than <i>length</i>. Before any writing is done reset must be called.
 If <code>setData()</code> is to be used when reading or writing, any value
 for the <code>offset</code> parameter other than 0 is not supported.
 <p>
 For example to write to datagram:
 <pre>
    datagram = connection.newDatagram(max);

    // Reset prepares the datagram for writing new message.
    datagram.reset();

    // writeUTF automatically increases the datagram length.
    datagram.writeUTF("hello world");

    connection.send(datagram);
 </pre>
 For example to read from a datagram (single use only):
 <pre>
    datagram = connection.newDatagram(max);

    connection.receive(datagram);

    message = datagram.readUTF();
 </pre>
 <strong>Reusing Datagrams</strong>
 <p>
 It should be noted the <i>length</i> above is returned
 from <code>getLength</code> and can have different meanings at different
 times. When sending <i>length</i> is the number of bytes to send. Before
 receiving <i>length</i> is the maximum number of bytes to receive.
 After receiving <i>length</i> is the number of bytes that were received.
 So when reusing a datagram to receive after sending or receiving, length
 must be set back to the maximum using <code>setLength</code>.
 <pre>
    datagram = connection.newDatagram(max);

    while (notDone) {

        // The last receive in the loop changed the length
        // so put it back to the maximum length.
        datagram.setLength(max);
        connection.receive(datagram);

        data = datagram.getData();
        bytesReceived = datagram.getLength();

        // process datagram ...
    }
 </pre>
 When reading instead of using <code>getData</code> the <code>reset</code>
 method must be used.
 <pre>
    datagram = connection.newDatagram(max);

    while (notDone) {

        // The last read in the loop changed the read pointer
        // so reset the pointer.
        datagram.reset();
        datagram.setLength(max);
        connection.receive(datagram);

        message = datagram.readUTF(message);

        // process message ...
    }
 </pre>
 For example to reread a datagram:
 <pre>
    connection.receive(datagram);

    message = datagram.readUTF(message);

    len = datagram.getLength();

    datagram.reset();

    datagram.setLength(len);

    copy = datagram.readUTF(message);
 </pre></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>CLDC 1.0</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>12/17/01 (CLDC 1.1)</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Brian Modra, Nik Shaylor, Stephen Flores</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../java/lang/String.html" title="class in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#getAddress()">getAddress</a></strong>()</code>
<div class="block">Get the address of the datagram.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#getData()">getData</a></strong>()</code>
<div class="block">Get the contents of the data buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#getLength()">getLength</a></strong>()</code>
<div class="block">Get the length of the datagram.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#getOffset()">getOffset</a></strong>()</code>
<div class="block">Get the offset.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#reset()">reset</a></strong>()</code>
<div class="block">Zero the <code>read/write pointer</code> as well as the
 <code>offset</code> and <code>length</code> state variables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#setAddress(javax.microedition.io.Datagram)">setAddress</a></strong>(<a href="../../../javax/microedition/io/Datagram.html" title="interface in javax.microedition.io">Datagram</a>&nbsp;reference)</code>
<div class="block">Set datagram address, copying the address from another datagram.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#setAddress(java.lang.String)">setAddress</a></strong>(<a href="../../../java/lang/String.html" title="class in java.lang">String</a>&nbsp;addr)</code>
<div class="block">Set datagram address.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#setData(byte[], int, int)">setData</a></strong>(byte[]&nbsp;buffer,
       int&nbsp;offset,
       int&nbsp;len)</code>
<div class="block">Set the <code>buffer</code>, <code>offset</code> and <code>length</code>
 state variables.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../javax/microedition/io/Datagram.html#setLength(int)">setLength</a></strong>(int&nbsp;len)</code>
<div class="block">Set the <code>length</code> state variable.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.io.DataInput">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.io.<a href="../../../java/io/DataInput.html" title="interface in java.io">DataInput</a></h3>
<code><a href="../../../java/io/DataInput.html#readBoolean()">readBoolean</a>, <a href="../../../java/io/DataInput.html#readByte()">readByte</a>, <a href="../../../java/io/DataInput.html#readChar()">readChar</a>, <a href="../../../java/io/DataInput.html#readDouble()">readDouble</a>, <a href="../../../java/io/DataInput.html#readFloat()">readFloat</a>, <a href="../../../java/io/DataInput.html#readFully(byte[])">readFully</a>, <a href="../../../java/io/DataInput.html#readFully(byte[], int, int)">readFully</a>, <a href="../../../java/io/DataInput.html#readInt()">readInt</a>, <a href="../../../java/io/DataInput.html#readLine()">readLine</a>, <a href="../../../java/io/DataInput.html#readLong()">readLong</a>, <a href="../../../java/io/DataInput.html#readShort()">readShort</a>, <a href="../../../java/io/DataInput.html#readUnsignedByte()">readUnsignedByte</a>, <a href="../../../java/io/DataInput.html#readUnsignedShort()">readUnsignedShort</a>, <a href="../../../java/io/DataInput.html#readUTF()">readUTF</a>, <a href="../../../java/io/DataInput.html#skipBytes(int)">skipBytes</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.io.DataOutput">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.io.<a href="../../../java/io/DataOutput.html" title="interface in java.io">DataOutput</a></h3>
<code><a href="../../../java/io/DataOutput.html#write(byte[])">write</a>, <a href="../../../java/io/DataOutput.html#write(byte[], int, int)">write</a>, <a href="../../../java/io/DataOutput.html#write(int)">write</a>, <a href="../../../java/io/DataOutput.html#writeBoolean(boolean)">writeBoolean</a>, <a href="../../../java/io/DataOutput.html#writeByte(int)">writeByte</a>, <a href="../../../java/io/DataOutput.html#writeBytes(java.lang.String)">writeBytes</a>, <a href="../../../java/io/DataOutput.html#writeChar(int)">writeChar</a>, <a href="../../../java/io/DataOutput.html#writeChars(java.lang.String)">writeChars</a>, <a href="../../../java/io/DataOutput.html#writeDouble(double)">writeDouble</a>, <a href="../../../java/io/DataOutput.html#writeFloat(float)">writeFloat</a>, <a href="../../../java/io/DataOutput.html#writeInt(int)">writeInt</a>, <a href="../../../java/io/DataOutput.html#writeLong(long)">writeLong</a>, <a href="../../../java/io/DataOutput.html#writeShort(int)">writeShort</a>, <a href="../../../java/io/DataOutput.html#writeUTF(java.lang.String)">writeUTF</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAddress()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAddress</h4>
<pre><a href="../../../java/lang/String.html" title="class in java.lang">String</a>&nbsp;getAddress()</pre>
<div class="block">Get the address of the datagram.

<!-- GCFOP begin --></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the address in the form
 <code>"datagram://{host}:{port}"</code>, or null if no address was set.
<!-- GCFOP end --></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/microedition/io/Datagram.html#setAddress(java.lang.String)"><code>setAddress(java.lang.String)</code></a></dd></dl>
</li>
</ul>
<a name="getData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>byte[]&nbsp;getData()</pre>
<div class="block">Get the contents of the data buffer.
 <p>
 Depending on the implementation, this operation may return 
 the internal buffer or a copy of it.  However, the user
 must not assume that the contents of the internal data 
 buffer can be manipulated by modifying the data returned by
 this operation.  Rather, the <code>setData</code> operation
 should be used for changing the contents of the internal
 buffer.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the data buffer as a byte array</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/microedition/io/Datagram.html#setData(byte[], int, int)"><code>setData(byte[], int, int)</code></a></dd></dl>
</li>
</ul>
<a name="getLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLength</h4>
<pre>int&nbsp;getLength()</pre>
<div class="block">Get the length of the datagram.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the length state variable</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/microedition/io/Datagram.html#setLength(int)"><code>setLength(int)</code></a></dd></dl>
</li>
</ul>
<a name="getOffset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOffset</h4>
<pre>int&nbsp;getOffset()</pre>
<div class="block">Get the offset.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the offset state variable</dd></dl>
</li>
</ul>
<a name="setAddress(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAddress</h4>
<pre>void&nbsp;setAddress(<a href="../../../java/lang/String.html" title="class in java.lang">String</a>&nbsp;addr)
                throws <a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">Set datagram address.
<!-- GCFOP begin -->
The address must be in the form <code>"datagram://{host}:{port}"</code>.
<!-- GCFOP end -->
 <p>
 Note that if the address of a datagram is not specified, then 
 it defaults to that of the connection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>addr</code> - the new target address as a URL</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the address is not valid</dd>
<dd><code><a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - if a some kind of I/O error occurs</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/microedition/io/Datagram.html#getAddress()"><code>getAddress()</code></a></dd></dl>
</li>
</ul>
<a name="setAddress(javax.microedition.io.Datagram)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAddress</h4>
<pre>void&nbsp;setAddress(<a href="../../../javax/microedition/io/Datagram.html" title="interface in javax.microedition.io">Datagram</a>&nbsp;reference)</pre>
<div class="block">Set datagram address, copying the address from another datagram.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reference</code> - to the datagram whose address will be copied as
 the new target address for this datagram.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the address is not valid</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/microedition/io/Datagram.html#getAddress()"><code>getAddress()</code></a></dd></dl>
</li>
</ul>
<a name="setLength(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLength</h4>
<pre>void&nbsp;setLength(int&nbsp;len)</pre>
<div class="block">Set the <code>length</code> state variable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>len</code> - the new length of the datagram</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the length or length plus offset
            fall outside the buffer</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/microedition/io/Datagram.html#getLength()"><code>getLength()</code></a></dd></dl>
</li>
</ul>
<a name="setData(byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setData</h4>
<pre>void&nbsp;setData(byte[]&nbsp;buffer,
           int&nbsp;offset,
           int&nbsp;len)</pre>
<div class="block">Set the <code>buffer</code>, <code>offset</code> and <code>length</code>
 state variables.  Depending on the implementation, this operation may 
 copy the buffer or just set the state variable <code>buffer</code>
 to the value of the <code>buffer</code> argument.  However,
 the user must not assume that the contents of the internal data
 buffer can be manipulated by modifying the buffer passed on to 
 this operation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>buffer</code> - the data buffer</dd><dd><code>offset</code> - the offset into the data buffer</dd><dd><code>len</code> - the length of the data in the buffer</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the length or offset
                or offset plus length fall outside the 
                buffer, or if the buffer parameter is invalid</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../javax/microedition/io/Datagram.html#getData()"><code>getData()</code></a></dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reset</h4>
<pre>void&nbsp;reset()</pre>
<div class="block">Zero the <code>read/write pointer</code> as well as the
 <code>offset</code> and <code>length</code> state variables.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Datagram.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../javax/microedition/io/ContentConnection.html" title="interface in javax.microedition.io"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../javax/microedition/io/DatagramConnection.html" title="interface in javax.microedition.io"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?javax/microedition/io/Datagram.html" target="_top">Frames</a></li>
<li><a href="Datagram.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012 <a href="http://www.cablelabs.com">CableLabs</a>. All Rights Reserved.</small></p>
</body>
</html>
