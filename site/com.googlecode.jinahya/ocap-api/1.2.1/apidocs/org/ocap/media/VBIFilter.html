<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Thu Jan 26 16:56:25 KST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>VBIFilter (ocap-api 1.2.1 API)</title>
<meta name="date" content="2012-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="VBIFilter (ocap-api 1.2.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VBIFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/ocap/media/S3DSignalingChangedEvent.html" title="class in org.ocap.media"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/ocap/media/VBIFilterEvent.html" title="class in org.ocap.media"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/media/VBIFilter.html" target="_top">Frames</a></li>
<li><a href="VBIFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.ocap.media</div>
<h2 title="Interface VBIFilter" class="title">Interface VBIFilter</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">VBIFilter</span></pre>
<div class="block"><p>
 This class represents a VBI filter. 
 VBIFilter instances are created by a VBIFilterGroup based on the OCAP 
 resource management. 
 Line numbers and a data format to be filtered are specified when the filter 
 is created. 
 </p><p>
 The startFiltering() method starts filtering of the specified data format 
 in the specified VBI line and stores data units in an internal buffer. 
 When the first single data unit is filtered, a VBIFilterEvent with 
 EVENT_CODE_FIRST_VBI_DATA_AVAILABLE is issued only once. The VBIFilter 
 continues filtering. 
 </p><p>
 VBI filtering stops in the following cases: <br>
 <ul>
 <li> If a stopFiltering() method is called, a VBIFilterEvent with 
 EVENT_CODE_FORCIBLE_TERMINATED notifies it. <br>
 <li> If an internal buffer is full, a VBIFilterEvent with 
 EVENT_CODE_BUFFER_FULL notifies it. <br>
 <li> If a time out (specified by a timeout value in a 
 <a href="../../../org/ocap/media/VBIFilter.html#setTimeOut(long)"><code>setTimeOut(long)</code></a>) occurs, a VBIFilterEvent with 
 EVENT_CODE_TIMEOUT notifies it. <br>
 </ul></p><p>
 VBI filtering continues in the following cases: <br>
 <ul>
 <li> Timer notification by a VBIFilterEvent with 
 EVENT_CODE_TIME_NOTIFICATION. <br>
 <li> Cyclic notification for every specified number of data units by a 
 VBIFilterEvent with EVENT_CODE_UNITS_NOTIFICATION. <br>
 </ul></p><p>
 See also the <a href="../../../org/ocap/media/VBIFilterGroup.html" title="class in org.ocap.media"><code>VBIFilterGroup</code></a>. 
 </p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Shigeaki Watanabe (Panasonic)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#addVBIFilterListener(org.ocap.media.VBIFilterListener)">addVBIFilterListener</a></strong>(<a href="../../../org/ocap/media/VBIFilterListener.html" title="interface in org.ocap.media">VBIFilterListener</a>&nbsp;listener)</code>
<div class="block">Add a new VBIFilterListener instance to this VBI filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#clearBuffer()">clearBuffer</a></strong>()</code>
<div class="block">Clear an internal buffer to store retrieved VBI data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#getVBIData()">getVBIData</a></strong>()</code>
<div class="block">This method returns multiple VBI data unit bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#removeVBIFilterListener(org.ocap.media.VBIFilterListener)">removeVBIFilterListener</a></strong>(<a href="../../../org/ocap/media/VBIFilterListener.html" title="interface in org.ocap.media">VBIFilterListener</a>&nbsp;listener)</code>
<div class="block">Remove an existing VBIFilterListener instance from this VBI filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#setNotificationByDataUnits(int)">setNotificationByDataUnits</a></strong>(int&nbsp;numberOfDataUnits)</code>
<div class="block">Set the number of data units to receive a cyclic notification.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#setNotificationByTime(long)">setNotificationByTime</a></strong>(long&nbsp;milliseconds)</code>
<div class="block">Set a notification time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#setTimeOut(long)">setTimeOut</a></strong>(long&nbsp;milliseconds)</code>
<div class="block">Set a timeout value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#startFiltering(java.lang.Object)">startFiltering</a></strong>(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;appData)</code>
<div class="block">Initiate filtering of VBI data for the specified line and the specified 
 data format by a VBIFilterGroup.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#startFiltering(java.lang.Object, int, byte[], byte[], byte[], byte[])">startFiltering</a></strong>(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;appData,
              int&nbsp;offset,
              byte[]&nbsp;posFilterDef,
              byte[]&nbsp;posFilterMask,
              byte[]&nbsp;negFilterDef,
              byte[]&nbsp;negFilterMask)</code>
<div class="block">Initiate filtering of VBI data for the specified line and the specified 
 data format by a VBIFilterGroup.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/media/VBIFilter.html#stopFiltering()">stopFiltering</a></strong>()</code>
<div class="block">Stop current filtering of this VBI filter.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startFiltering(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startFiltering</h4>
<pre>void&nbsp;startFiltering(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;appData)</pre>
<div class="block">Initiate filtering of VBI data for the specified line and the specified 
 data format by a VBIFilterGroup. Filtering starts only after the 
 <a href="../../../org/ocap/media/VBIFilterGroup.html#attach(javax.tv.service.selection.ServiceContext, org.davic.resources.ResourceClient, java.lang.Object)"><code>VBIFilterGroup.attach(javax.tv.service.selection.ServiceContext, org.davic.resources.ResourceClient, java.lang.Object)</code></a> method is called.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>appData</code> - application specific data. This data is notified 
              to the application with a SectionFilterEvent. Null is 
              possible.</dd></dl>
</li>
</ul>
<a name="startFiltering(java.lang.Object, int, byte[], byte[], byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startFiltering</h4>
<pre>void&nbsp;startFiltering(<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a>&nbsp;appData,
                  int&nbsp;offset,
                  byte[]&nbsp;posFilterDef,
                  byte[]&nbsp;posFilterMask,
                  byte[]&nbsp;negFilterDef,
                  byte[]&nbsp;negFilterMask)</pre>
<div class="block">Initiate filtering of VBI data for the specified line and the specified 
 data format by a VBIFilterGroup. Only data unit(s) matching with a 
 specified filter parameters are retrieved. Filtering starts only after 
 the <a href="../../../org/ocap/media/VBIFilterGroup.html#attach(javax.tv.service.selection.ServiceContext, org.davic.resources.ResourceClient, java.lang.Object)"><code>VBIFilterGroup.attach(javax.tv.service.selection.ServiceContext, org.davic.resources.ResourceClient, java.lang.Object)</code></a> method is called.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>appData</code> - application specific data. This data is notified 
              to the application with a SectionFilterEvent. Null is 
              possible.</dd><dd><code>offset</code> - defines a number of offset bytes that the specified 
              matching bits and masking bits are applied. Value 0 
              means no offset. Value 1 means that the matching/masking 
              bit is applied from the second byte.</dd><dd><code>posFilterDef</code> - defines values to match for bits in a single data 
              unit. Only data unit that has matching bytes with this 
              posFilterDef are retrieved. 
              Maximum length is 36 bytes.</dd><dd><code>posFilterMask</code> - defines which bits in the data unit are to be 
              compared against the posFilterDef bytes. 
              Matching calculation of negFilterDef and negFilterMask 
              obeys E.8.1 of DAVIC 1.4.1 Part 9. 
              Maximum length is 36 bytes.</dd><dd><code>negFilterDef</code> - defines values to match for bits in a single data 
              unit. Only data unit that has matching bytes with this 
              negFilterDef are retrieved. 
              Maximum length is 36 bytes.</dd><dd><code>negFilterMask</code> - defines which bits in the data unit are to be 
              compared against the negFilterDef bytes. 
              Matching calculation of negFilterDef and negFilterMask 
              obeys E.8.1 of DAVIC 1.4.1 Part 9. 
              Maximum length is 36 bytes.</dd></dl>
</li>
</ul>
<a name="stopFiltering()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopFiltering</h4>
<pre>void&nbsp;stopFiltering()</pre>
<div class="block">Stop current filtering of this VBI filter. Note that the VBIFilterGroup 
 holding this VBI filter doesn't detach.</div>
</li>
</ul>
<a name="setTimeOut(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeOut</h4>
<pre>void&nbsp;setTimeOut(long&nbsp;milliseconds)</pre>
<div class="block">Set a timeout value. If no VBI data unit is retrieved after calling 
 the startFiltering() method within the timeout value, the filtering 
 stops automatically and SectionFilterEvent with EVENT_CODE_TIMEOUT 
 notifies a timeout occurred.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>milliseconds</code> - a timeout value in milli seconds. A default 
              value is -1 that indicates infinite.</dd></dl>
</li>
</ul>
<a name="setNotificationByTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotificationByTime</h4>
<pre>void&nbsp;setNotificationByTime(long&nbsp;milliseconds)</pre>
<div class="block">Set a notification time. By setting a notification time, the 
 OCAP implementation notifies a VBIFilterEvent with 
 EVENT_CODE_TIME_NOTIFICATION when the specified time-period has 
 elapsed after receiving the first byte of the data unit. The event 
 shall be sent even if the data received does not form a complete 
 data unit. The event is sent only once. 
 The filter continues filtering after sending the event.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>milliseconds</code> - a time-period value in milli seconds. A default 
              value is -1 that indicates infinite.</dd></dl>
</li>
</ul>
<a name="setNotificationByDataUnits(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNotificationByDataUnits</h4>
<pre>void&nbsp;setNotificationByDataUnits(int&nbsp;numberOfDataUnits)</pre>
<div class="block">Set the number of data units to receive a cyclic notification. 
 By setting the number of data units, the OCAP implementation notifies 
 a VBIFilterEvent with EVENT_CODE_UNITS_NOTIFICATION cyclically 
 every time when the specified number of new data units are filtered 
 and stored in a buffer. 
 The filter continues filtering after sending the event.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>numberOfDataUnits</code> - the number of data units to be notified. 
              A default value is 0 that indicates no notification. 
              Note that if a small number of data units is specified, 
              the notification may be delayed and affect the host 
              performance. For example, if 1 is specified for UNKNOWN 
              data unit that comes every field (i.e., 1/60 seconds), 
              the host has to notify every 1/60 seconds and makes an 
              over load.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the numberOfDataUnit is larger 
              than the bufferSize specified by a 
              <a href="../../../org/ocap/media/VBIFilterGroup.html#newVBIFilter(int[], int, int, int, int)"><code>VBIFilterGroup.newVBIFilter(int[], int, int, int, int)</code></a> method.</dd></dl>
</li>
</ul>
<a name="addVBIFilterListener(org.ocap.media.VBIFilterListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addVBIFilterListener</h4>
<pre>void&nbsp;addVBIFilterListener(<a href="../../../org/ocap/media/VBIFilterListener.html" title="interface in org.ocap.media">VBIFilterListener</a>&nbsp;listener)</pre>
<div class="block">Add a new VBIFilterListener instance to this VBI filter. 
 If the same instance that exists currently is specified, this method 
 does nothing and no exception is thrown.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - a VBIFilterListener instance to be notified 
              a VBI filtering events.</dd></dl>
</li>
</ul>
<a name="removeVBIFilterListener(org.ocap.media.VBIFilterListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeVBIFilterListener</h4>
<pre>void&nbsp;removeVBIFilterListener(<a href="../../../org/ocap/media/VBIFilterListener.html" title="interface in org.ocap.media">VBIFilterListener</a>&nbsp;listener)</pre>
<div class="block">Remove an existing VBIFilterListener instance from this VBI filter. 
 If the specified instance has not been added, this method does nothing 
 and no exception is thrown.</div>
</li>
</ul>
<a name="getVBIData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVBIData</h4>
<pre>byte[]&nbsp;getVBIData()</pre>
<div class="block">This method returns multiple VBI data unit bytes. The data unit 
 format is defined in a description of a <a href="../../../org/ocap/media/VBIFilter.html" title="interface in org.ocap.media"><code>VBIFilter</code></a> interface. 
 The returned bytes is a simple concatenated VBI data at the moment. 
 Note that the return value is not aligned by a complete VBI data unit, 
 i.e., an incomplete data unit may return. 
 When this method is called, the internal buffer is cleared once, i.e., 
 the next call returns the next byte of retrieved VBI data.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a concatenated VBI data of the form of specified by a 
             <a href="../../../org/ocap/media/VBIFilterGroup.html#newVBIFilter(int[], int, int, int, int)"><code>VBIFilterGroup.newVBIFilter(int[], int, int, int, int)</code></a> method.</dd></dl>
</li>
</ul>
<a name="clearBuffer()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clearBuffer</h4>
<pre>void&nbsp;clearBuffer()</pre>
<div class="block">Clear an internal buffer to store retrieved VBI data. An application 
 shall call this method before the data buffer is full.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VBIFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/ocap/media/S3DSignalingChangedEvent.html" title="class in org.ocap.media"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/ocap/media/VBIFilterEvent.html" title="class in org.ocap.media"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/media/VBIFilter.html" target="_top">Frames</a></li>
<li><a href="VBIFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012 <a href="http://www.cablelabs.com">CableLabs</a>. All Rights Reserved.</small></p>
</body>
</html>
