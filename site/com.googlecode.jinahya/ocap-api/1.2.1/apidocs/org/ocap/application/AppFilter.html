<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Thu Jan 26 16:56:24 KST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>AppFilter (ocap-api 1.2.1 API)</title>
<meta name="date" content="2012-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AppFilter (ocap-api 1.2.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AppFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../org/ocap/application/AppFilterHandler.html" title="interface in org.ocap.application"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/application/AppFilter.html" target="_top">Frames</a></li>
<li><a href="AppFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.ocap.application</div>
<h2 title="Class AppFilter" class="title">Class AppFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../org/dvb/application/AppsDatabaseFilter.html" title="class in org.dvb.application">org.dvb.application.AppsDatabaseFilter</a></li>
<li>
<ul class="inheritance">
<li>org.ocap.application.AppFilter</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">AppFilter</span>
extends <a href="../../../org/dvb/application/AppsDatabaseFilter.html" title="class in org.dvb.application">AppsDatabaseFilter</a></pre>
<div class="block"><em>AppFilter</em> provides a means of filtering AppIDs.  As a
 subclass of <a href="../../../org/dvb/application/AppsDatabaseFilter.html" title="class in org.dvb.application"><code>AppsDatabaseFilter</code></a>, the method <a href="../../../org/ocap/application/AppFilter.html#accept(org.dvb.application.AppID)"><code>accept(org.dvb.application.AppID)</code></a>
 makes a <code>true</code>/<code>false</code> decision based on an AppID.

 <p>An AppFilter contains a list of zero or more <a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application"><code>AppPattern</code></a>s.  Each
 AppPattern has the attributes: <em>pattern</em>, <em>action</em>, and
 <em>priority</em>.  <em>pattern</em> specifies a group of AppIDs with
 a pair of ranges for organization ID and application ID.
 <em>action</em> specifies an action assigned to the AppID group;
 either <a href="../../../org/ocap/application/AppPattern.html#ALLOW"><code>AppPattern.ALLOW</code></a>, <a href="../../../org/ocap/application/AppPattern.html#DENY"><code>AppPattern.DENY</code></a>, or <a href="../../../org/ocap/application/AppPattern.html#ASK"><code>AppPattern.ASK</code></a>.  <em>priority</em> specifies this AppPattern's
 position in the search order: the biggest number comes first.
 Applications can insert an AppPattern anywhere in the search
 order by using the priority attribute effectively
 (<code>AppFilter.add</code>).  When two or more AppPatterns in an
 AppFilter have the same priority, the search order among them is
 undefined.  It is not recommendable to use AppPatterns that have the
 same priority but different actions.

 <p>When <code>accept</code> is called, the given AppID is compared to
 the AppID group of each AppPattern in the search order until a match
 is found.  Then, it returns <code>true</code> or <code>false</code>
 if the action of matching AppPattern is <code>ALLOW</code> or
 <code>DENY</code> respectively.  If no match is found,
 <code>accept</code> returns <code>true</code>.

 <p>If the action of matching AppPattern is <code>ASK</code>, then
 AppFilter calls <code>AppFilterHandler.accept</code> for the final
 decision; the matching AppPattern is handed over to this method.
 Applications can specify the <code>AppFilterHandler</code> with
 <code>AppFilter.setAskHandler</code>. If no AppFilterHandler is set,
 AppFilter returns <code>true</code>.


 <p>AppPatterns can have an expiration time and MSO-private
 information (<em>expirationTime</em> and <em>info</em>).
 <code>accept</code> and <code>getAppPatterns</code> methods ignore
 AppPatterns that have expired.  The implementation may delete expired
 AppPatterns from AppFilter.

 <p><b>Example:</b>

 <blockquote><pre>
 import org.ocap.application.*;
 import org.dvb.application.AppID;

 AppManagerProxy am = ...;
 AppPattern[] patterns = {
     &#47;* note that search order is dictated by "priority" *&#47;
     new AppPattern("10-5f:1-ff", AppPattern.ALLOW, 40),     // #3
     new AppPattern("30:2c-34", AppPattern.ALLOW, 100),      // #1
     new AppPattern("20-40", AppPattern.DENY, 80),           // #2
 };
 AppFilter af = new AppFilter(patterns);
 
 &#47;* false - matches "20-40" *&#47;
 boolean badOne = af.accept(new AppID(0x30, 0x10));

 &#47;* true - matches "30:2c-34" *&#47;
 boolean goodOne = af.accept(new AppID(0x30, 0x30));

 &#47;* will be the second entry: priority between 100 and 80 *&#47;
 af.add(new AppPattern("40-4f:1000-1fff", DENY, 90));

 &#47;* register af with the system *&#47;
 am.setAppFilter(af);
 </pre></blockquote></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application"><code>AppPattern</code></a>, 
<a href="../../../org/ocap/application/AppFilterHandler.html" title="interface in org.ocap.application"><code>AppFilterHandler</code></a>, 
<a href="../../../org/ocap/application/AppManagerProxy.html" title="class in org.ocap.application"><code>AppManagerProxy</code></a>, 
<a href="../../../org/dvb/application/AppID.html" title="class in org.dvb.application"><code>AppID</code></a>, 
<a href="../../../org/dvb/application/AppsDatabaseFilter.html" title="class in org.dvb.application"><code>AppsDatabaseFilter</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/ocap/application/AppFilter.html#AppFilter()">AppFilter</a></strong>()</code>
<div class="block">Constructs an empty AppFilter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/ocap/application/AppFilter.html#AppFilter(org.ocap.application.AppPattern[])">AppFilter</a></strong>(<a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application">AppPattern</a>[]&nbsp;patterns)</code>
<div class="block">Constructs an AppFilter with initial AppPatterns.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/application/AppFilter.html#accept(org.dvb.application.AppID)">accept</a></strong>(<a href="../../../org/dvb/application/AppID.html" title="class in org.dvb.application">AppID</a>&nbsp;appID)</code>
<div class="block">Returns whether this AppFilter accepts the given AppID.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/application/AppFilter.html#add(org.ocap.application.AppPattern)">add</a></strong>(<a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application">AppPattern</a>&nbsp;pattern)</code>
<div class="block">Adds an AppPattern to this AppFilter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../java/util/Enumeration.html" title="interface in java.util">Enumeration</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/application/AppFilter.html#getAppPatterns()">getAppPatterns</a></strong>()</code>
<div class="block">Returns the AppPatterns in this AppFilter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/application/AppFilter.html#remove(org.ocap.application.AppPattern)">remove</a></strong>(<a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application">AppPattern</a>&nbsp;pattern)</code>
<div class="block">Removes an AppPattern that equals to <code>pattern</code> in this
 AppFilter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/application/AppFilter.html#setAskHandler(org.ocap.application.AppFilterHandler)">setAskHandler</a></strong>(<a href="../../../org/ocap/application/AppFilterHandler.html" title="interface in org.ocap.application">AppFilterHandler</a>&nbsp;handler)</code>
<div class="block">Sets the handler to call when <code>accept</code> hits an
 AppPatterns with action <a href="../../../org/ocap/application/AppPattern.html#ASK"><code>AppPattern.ASK</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../java/lang/Object.html#clone()">clone</a>, <a href="../../../java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java/lang/Object.html#finalize()">finalize</a>, <a href="../../../java/lang/Object.html#getClass()">getClass</a>, <a href="../../../java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../java/lang/Object.html#notify()">notify</a>, <a href="../../../java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../java/lang/Object.html#toString()">toString</a>, <a href="../../../java/lang/Object.html#wait()">wait</a>, <a href="../../../java/lang/Object.html#wait(long)">wait</a>, <a href="../../../java/lang/Object.html#wait(long, int)">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AppFilter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AppFilter</h4>
<pre>public&nbsp;AppFilter()</pre>
<div class="block">Constructs an empty AppFilter.</div>
</li>
</ul>
<a name="AppFilter(org.ocap.application.AppPattern[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AppFilter</h4>
<pre>public&nbsp;AppFilter(<a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application">AppPattern</a>[]&nbsp;patterns)</pre>
<div class="block">Constructs an AppFilter with initial AppPatterns.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>patterns</code> - AppPatterns to constitute an AppFilter.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getAppPatterns()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAppPatterns</h4>
<pre>public&nbsp;<a href="../../../java/util/Enumeration.html" title="interface in java.util">Enumeration</a>&nbsp;getAppPatterns()</pre>
<div class="block">Returns the AppPatterns in this AppFilter.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the enumeration of AppPatterns.  When this AppFilter
 has no AppPattern, this method returns an empty Enumeration,
 not <code>null</code>.</dd></dl>
</li>
</ul>
<a name="accept(org.dvb.application.AppID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accept</h4>
<pre>public&nbsp;boolean&nbsp;accept(<a href="../../../org/dvb/application/AppID.html" title="class in org.dvb.application">AppID</a>&nbsp;appID)</pre>
<div class="block">Returns whether this AppFilter accepts the given AppID.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/dvb/application/AppsDatabaseFilter.html#accept(org.dvb.application.AppID)">accept</a></code>&nbsp;in class&nbsp;<code><a href="../../../org/dvb/application/AppsDatabaseFilter.html" title="class in org.dvb.application">AppsDatabaseFilter</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>appID</code> - an AppID to test.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if <code>appID</code> passes this
 filter.</dd></dl>
</li>
</ul>
<a name="add(org.ocap.application.AppPattern)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application">AppPattern</a>&nbsp;pattern)</pre>
<div class="block">Adds an AppPattern to this AppFilter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pattern</code> - the AppPattern to add</dd></dl>
</li>
</ul>
<a name="remove(org.ocap.application.AppPattern)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;boolean&nbsp;remove(<a href="../../../org/ocap/application/AppPattern.html" title="class in org.ocap.application">AppPattern</a>&nbsp;pattern)</pre>
<div class="block">Removes an AppPattern that equals to <code>pattern</code> in this
 AppFilter.  If this AppFilter does not contain
 <code>pattern</code>, it is unchanged.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pattern</code> - the AppPattern to remove.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the AppFilter contained the
 specified AppPattern.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/ocap/application/AppPattern.html#equals(java.lang.Object)"><code>AppPattern.equals(java.lang.Object)</code></a></dd></dl>
</li>
</ul>
<a name="setAskHandler(org.ocap.application.AppFilterHandler)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setAskHandler</h4>
<pre>public&nbsp;void&nbsp;setAskHandler(<a href="../../../org/ocap/application/AppFilterHandler.html" title="interface in org.ocap.application">AppFilterHandler</a>&nbsp;handler)</pre>
<div class="block">Sets the handler to call when <code>accept</code> hits an
 AppPatterns with action <a href="../../../org/ocap/application/AppPattern.html#ASK"><code>AppPattern.ASK</code></a>.
 
 <p>If a handler is already registered with this AppFilter, the
 new handler replaces it.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>handler</code> - the handler to set.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AppFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../org/ocap/application/AppFilterHandler.html" title="interface in org.ocap.application"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/application/AppFilter.html" target="_top">Frames</a></li>
<li><a href="AppFilter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012 <a href="http://www.cablelabs.com">CableLabs</a>. All Rights Reserved.</small></p>
</body>
</html>
