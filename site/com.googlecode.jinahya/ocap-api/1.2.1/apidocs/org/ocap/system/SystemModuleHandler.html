<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Thu Jan 26 16:56:25 KST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>SystemModuleHandler (ocap-api 1.2.1 API)</title>
<meta name="date" content="2012-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SystemModuleHandler (ocap-api 1.2.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SystemModuleHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/system/SystemModuleHandler.html" target="_top">Frames</a></li>
<li><a href="SystemModuleHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.ocap.system</div>
<h2 title="Interface SystemModuleHandler" class="title">Interface SystemModuleHandler</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">SystemModuleHandler</span></pre>
<div class="block">The SystemModuleHandler is used by an OCAP-J application  
 for the following purposes: 
 1) receive an APDU from the CableCARD device, 
 2) detect an unsent APDU to the POD in case of an error, 
 and 3) notification of becoming registered and unregistered.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Patrick Ladd, Shigeaki Watanabe (modified by ECN 03.0531-4)</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system"><code>SystemModuleRegistrar</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/system/SystemModuleHandler.html#notifyUnregister()">notifyUnregister</a></strong>()</code>
<div class="block">This is a call back method to notify that the 
 SystemModuleHandler is being unregistered and give a chance 
 to do a termination procedure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/system/SystemModuleHandler.html#ready(org.ocap.system.SystemModule)">ready</a></strong>(<a href="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system">SystemModule</a>&nbsp;systemModule)</code>
<div class="block">This is a call back method to notify that this 
 SystemModuleHandler is ready to receive an APDU, and returns a 
 SystemModule to send an APDU to the CableCARD device.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/system/SystemModuleHandler.html#receiveAPDU(int, int, byte[])">receiveAPDU</a></strong>(int&nbsp;apduTag,
           int&nbsp;lengthField,
           byte[]&nbsp;dataByte)</code>
<div class="block">
 This is a call back method to notify an APDU received from the 
 CableCARD device.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/system/SystemModuleHandler.html#sendAPDUFailed(int, byte[])">sendAPDUFailed</a></strong>(int&nbsp;apduTag,
              byte[]&nbsp;dataByte)</code>
<div class="block">This is a call back method to notify an error has occurred 
 while sending an APDU via the <a href="../../../org/ocap/system/SystemModule.html#sendAPDU(int, byte[])"><code>SystemModule.sendAPDU(int, byte[])</code></a> 
 method.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="receiveAPDU(int, int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveAPDU</h4>
<pre>void&nbsp;receiveAPDU(int&nbsp;apduTag,
               int&nbsp;lengthField,
               byte[]&nbsp;dataByte)</pre>
<div class="block"><p>
 This is a call back method to notify an APDU received from the 
 CableCARD device.
 The APDU structure is defined in Table 16 in Section 8.3 of EIA-679-B 
 referred by [CCIF 2.0] and SCTE 28 2003. 
 The APDU structure consists of apdu_tag, length_field and data_byte.
 </p><p>
 For the Private Host Application on the SAS Resource, the 
 SystemModuleHandler is bound to a specific session number (and 
 a specific Private Host Application ID) when it is registered 
 via the <a href="../../../org/ocap/system/SystemModuleRegistrar.html#registerSASHandler(org.ocap.system.SystemModuleHandler, byte[])"><code>SystemModuleRegistrar.registerSASHandler(org.ocap.system.SystemModuleHandler, byte[])</code></a> method. 
 Only the receiveAPDU() method that is bound to the session of the 
 received APDU shall be called only once by the OCAP implementation. 
 </p><p>
 For the MMI Resource and the Application Information Resource, 
 the OCAP-J application can receive APDUs for both Resources by 
 a single SystemModuleHandler. 
 The OCAP implementation shall call the receiveAPDU() method of 
 the SystemModuleHandler registered via the 
 <a href="../../../org/ocap/system/SystemModuleRegistrar.html#registerMMIHandler(org.ocap.system.SystemModuleHandler)"><code>SystemModuleRegistrar.registerMMIHandler(org.ocap.system.SystemModuleHandler)</code></a> method 
 only once for both the MMI and Application Information APDU. 
 </p><p>
 The OCAP implementation extract the APDU from an SPDU from 
 the CableCARD device according to the OpenCable CableCARD Interface 
 Specification, and then call this method. Note that the OCAP 
 implementation simply retrieves the field values from the APDU 
 and call this method. No validity check is done by the OCAP 
 implementation. Though SPDU and TPDU mechanism may detect a 
 destruction of the APDU structure while transmitting, the OCAP 
 shall call this method every time when it receives an APDU. In 
 such case, the parameters may be invalid so that the OCAP-J 
 application can detect an error. 
 </p><p>
 Note that if the CableCARD device returns an APDU indicating an error 
 condition, this method is called instead of the sendAPDUFailed() 
 method. 
 </p><p>
 This method shall return immediately. 
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>apduTag</code> - an apdu_tag value in the APDU coming from the 
             CableCARD device. I.e., first 3 bytes. If the corresponding 
             bytes are missed, they are filled by zero. Note that 
             the OCAP implementation calls this method according 
             to the session number, so the apdu_tag value may be 
             out of the valid range.</dd><dd><code>lengthField</code> - a length_field value in the APDU coming from 
             the CableCARD device.  This is a decimal int value 
             converted from a length field encoded in ASN.1 BER.
             If the corresponding bytes are missing, the value of
             this parameter is set to 0.</dd><dd><code>dataByte</code> - an data_byte bytes in the APDU coming from the 
             CableCARD device. If the corresponding bytes are missed since 
             signaling trouble, only existing bytes are specified. 
             If they are more than expected length, all existing 
             bytes are specified. 
             The APDU consists of the specified apdu_tag, dataByte 
             and length_field. The APDU format is defined in [CCIF 2.0].</dd></dl>
</li>
</ul>
<a name="sendAPDUFailed(int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendAPDUFailed</h4>
<pre>void&nbsp;sendAPDUFailed(int&nbsp;apduTag,
                  byte[]&nbsp;dataByte)</pre>
<div class="block">This is a call back method to notify an error has occurred 
 while sending an APDU via the <a href="../../../org/ocap/system/SystemModule.html#sendAPDU(int, byte[])"><code>SystemModule.sendAPDU(int, byte[])</code></a> 
 method. This method shall return immediately.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>apduTag</code> - an apdu_tag of the APDU that was failed to 
             be sent. 
             This is the apduTag value specified in the 
             SystemModule.sendAPDU() method.</dd><dd><code>dataByte</code> - an data_byte of the APDU that was failed 
             to be sent. 
             This is dataByte value specified in the 
             SystemModule.sendAPDU() method.</dd></dl>
</li>
</ul>
<a name="notifyUnregister()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>notifyUnregister</h4>
<pre>void&nbsp;notifyUnregister()</pre>
<div class="block">This is a call back method to notify that the 
 SystemModuleHandler is being unregistered and give a chance 
 to do a termination procedure. This method returns after the 
 termination procedure has finished.</div>
</li>
</ul>
<a name="ready(org.ocap.system.SystemModule)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ready</h4>
<pre>void&nbsp;ready(<a href="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system">SystemModule</a>&nbsp;systemModule)</pre>
<div class="block">This is a call back method to notify that this 
 SystemModuleHandler is ready to receive an APDU, and returns a 
 SystemModule to send an APDU to the CableCARD device.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>systemModule</code> - a SystemModule instance corresponding to 
             this SystemModuleHandler. The returned SystemModule 
             sends an APDU using the same session that this 
             SystemModuleHandler receives an APDU. 
             Null is specified, if the OCAP implementation fails 
             to establish a SAS connection or fails to create an 
             SystemModule instance due to lack of resource.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SystemModuleHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/ocap/system/SystemModule.html" title="interface in org.ocap.system"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/ocap/system/SystemModuleRegistrar.html" title="class in org.ocap.system"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/system/SystemModuleHandler.html" target="_top">Frames</a></li>
<li><a href="SystemModuleHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012 <a href="http://www.cablelabs.com">CableLabs</a>. All Rights Reserved.</small></p>
</body>
</html>
