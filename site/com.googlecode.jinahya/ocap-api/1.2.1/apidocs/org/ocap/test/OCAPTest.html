<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_02) on Thu Jan 26 16:56:25 KST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>OCAPTest (ocap-api 1.2.1 API)</title>
<meta name="date" content="2012-01-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="OCAPTest (ocap-api 1.2.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OCAPTest.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/test/OCAPTest.html" target="_top">Frames</a></li>
<li><a href="OCAPTest.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.ocap.test</div>
<h2 title="Class OCAPTest" class="title">Class OCAPTest</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.ocap.test.OCAPTest</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">OCAPTest</span>
extends <a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></pre>
<div class="block">The purpose of this class is to provide a very simple communication 
 channel between the OCAP implementation under test (IUT) and the test server.
 The functionality of this class is intentionally limited to 
 sending/receiving raw messages via TCP/IP or UDP/IP protocol. 
 This approach decouples the lower 
 communications channel from the higher messaging protocol used to exchange messages 
 between the test client and the test server.  As a result, the implementation will 
 be isolated from any future messaging protocol changes which may be required 
 for future testing needs.
 <br>
 This class does not provide a means for concurrently executing test applications
 to negotiate reservation of the interaction channel used to exchange message with 
 the test environment host.  Test application authors should ensure that 
 concurrently executing test applications correctly interoperate in their use of
 this channel.
 <br>

 The implementation of this class MUST use TCP/IP or UDP/IP protocol to establish a 
 socket connection to the test server via the RF connector labeled 'Cable In'
 on the OCAP Host Device. See the <a href="../../../org/ocap/test/OCAPTest.html#getProtocol()"><code>getProtocol()</code></a> method.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Piotr Czapla, Shigeaki Watanabe</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#MAX_MESSAGE_LENGTH">MAX_MESSAGE_LENGTH</a></strong></code>
<div class="block">Maximum length of messages exchanged between 
 ATE and a test application.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#MESSAGE_TERMINATION_BYTE">MESSAGE_TERMINATION_BYTE</a></strong></code>
<div class="block">Message termination byte.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#TCP">TCP</a></strong></code>
<div class="block">Indicates that an OCAPTest instance is configured to use TCP/IP protocol.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#UDP">UDP</a></strong></code>
<div class="block">Indicates that an OCAPTest instance is configured to use UDP/IP protocol.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#OCAPTest()">OCAPTest</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#getProtocol()">getProtocol</a></strong>()</code>
<div class="block">Returns a current protocol that is used by an OCAPTest instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#receive()">receive</a></strong>()</code>
<div class="block">Receive a byte array from ATE via TCP/IP.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#receiveUDP()">receiveUDP</a></strong>()</code>
<div class="block">Receive a message from ATE via UDP/IP.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#send(byte[])">send</a></strong>(byte[]&nbsp;rawMessage)</code>
<div class="block">Send a specified byte array to ATE via TCP/IP protocol.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/ocap/test/OCAPTest.html#sendUDP(byte[])">sendUDP</a></strong>(byte[]&nbsp;rawMessage)</code>
<div class="block">Send rawMessage to ATE via UDP/IP.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="../../../java/lang/Object.html" title="class in java.lang">Object</a></h3>
<code><a href="../../../java/lang/Object.html#clone()">clone</a>, <a href="../../../java/lang/Object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java/lang/Object.html#finalize()">finalize</a>, <a href="../../../java/lang/Object.html#getClass()">getClass</a>, <a href="../../../java/lang/Object.html#hashCode()">hashCode</a>, <a href="../../../java/lang/Object.html#notify()">notify</a>, <a href="../../../java/lang/Object.html#notifyAll()">notifyAll</a>, <a href="../../../java/lang/Object.html#toString()">toString</a>, <a href="../../../java/lang/Object.html#wait()">wait</a>, <a href="../../../java/lang/Object.html#wait(long)">wait</a>, <a href="../../../java/lang/Object.html#wait(long, int)">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MESSAGE_TERMINATION_BYTE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MESSAGE_TERMINATION_BYTE</h4>
<pre>public static final&nbsp;byte MESSAGE_TERMINATION_BYTE</pre>
<div class="block">Message termination byte. 
 Used to identify the end of a sequence of message bytes
 between ATE and a test application. 
 For the <a href="../../../org/ocap/test/OCAPTest.html#send(byte[])"><code>send(byte[])</code></a> and <a href="../../../org/ocap/test/OCAPTest.html#receive()"><code>receive()</code></a> methods the 
 specified rawMessage and the returned bytes shall not contain 
 MESSAGE_TERMINATION_BYTE except indicating message termination. 
 For the <a href="../../../org/ocap/test/OCAPTest.html#sendUDP(byte[])"><code>sendUDP(byte[])</code></a> and <a href="../../../org/ocap/test/OCAPTest.html#receiveUDP()"><code>receiveUDP()</code></a> methods 
 the specified rawMessage and the returned bytes may contain 
 MESSAGE_TERMINATION_BYTE to process acknowledge protocol.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.ocap.test.OCAPTest.MESSAGE_TERMINATION_BYTE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAX_MESSAGE_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_MESSAGE_LENGTH</h4>
<pre>public static final&nbsp;int MAX_MESSAGE_LENGTH</pre>
<div class="block">Maximum length of messages exchanged between 
 ATE and a test application.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.ocap.test.OCAPTest.MAX_MESSAGE_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="UDP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UDP</h4>
<pre>public static final&nbsp;int UDP</pre>
<div class="block">Indicates that an OCAPTest instance is configured to use UDP/IP protocol.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.ocap.test.OCAPTest.UDP">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TCP">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TCP</h4>
<pre>public static final&nbsp;int TCP</pre>
<div class="block">Indicates that an OCAPTest instance is configured to use TCP/IP protocol.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.ocap.test.OCAPTest.TCP">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OCAPTest()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OCAPTest</h4>
<pre>public&nbsp;OCAPTest()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="send(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public static&nbsp;void&nbsp;send(byte[]&nbsp;rawMessage)
                 throws <a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">Send a specified byte array to ATE via TCP/IP protocol. 
 The message MUST NOT be altered before or while sending. 
 <br>
 A test application specifies a byte array that is less than 
 MAX_MESSAGE_LENGTH to the rawMessage parameter. The byte array shall not 
 contain MESSAGE_TERMINATION_BYTE. 
 This method SHALL NOT make any assumptions as to the format of the 
 content of the rawMessage other than it cant contain a byte with the value 
 MESSAGE_TERMINATION_BYTE except message termination. After the 
 specified rawMessage are sent, 
 <code>MESSAGE_TERMINATION_BYTE</code> will be sent by this method, indicating to
 the ATE that the rawMessage is complete, 
 and ready for parsing.
 <br>
 In case of buffered connections, the buffer MUST be flushed upon 
 exiting this method.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rawMessage</code> - a byte array of the raw message to be sent to 
        ATE via TCP/IP protocol.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - If rawMessage contains a byte with the 
        value MESSAGE_TERMINATION_BYTE.</dd>
<dd><code><a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - If there is any problem with I/O operations or an 
        interaction channel has not been initialized.</dd></dl>
</li>
</ul>
<a name="receive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receive</h4>
<pre>public static&nbsp;byte[]&nbsp;receive()
                      throws <a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">Receive a byte array from ATE via TCP/IP.
 
 <br> 
 The message MUST NOT be altered during or after reception. 
 <br>
 This is a blocking method which waits for an entire of original message 
 from ATE.  
 The implementation should accumulate bytes from the test server until 
 the <code>MESSAGE_TERMINATION_BYTE</code> is received.  The all received bytes
 MUST then be returned to the caller as a <code>byte[]</code>.  The 
 termination character is not to be included in the returned byte array. 
 There should be no other assumptions as to the format or content of the 
 message bytes.
 <br>
 The maximum number of returned byte array  is 
 <code>MAX_MESSAGE_LENGTH</code>.
 Any bytes received beyond MAX_MESSAGE_LENGTH should be discarded.  In any
 event, this method must not return until a 
 <code>MESSAGE_TERMINATION_BYTE</code> has been encountered.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a byte array coming from ATE via TCP/IP protocol.      
         The termination character is not included.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - If there is any problem with I/O operations or an 
         interaction channel has not been initialized.</dd></dl>
</li>
</ul>
<a name="getProtocol()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProtocol</h4>
<pre>public static&nbsp;int&nbsp;getProtocol()</pre>
<div class="block">Returns a current protocol that is used by an OCAPTest instance. 
 The current protocol shall matches with a protocol specified by a 
 ppp value of an ate:a.b.c.d:xxxx:ppp message from ATE.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a current protocol that is used by an OCAPTest instance. 
         Either <a href="../../../org/ocap/test/OCAPTest.html#UDP"><code>UDP</code></a> or <a href="../../../org/ocap/test/OCAPTest.html#TCP"><code>TCP</code></a> constant.</dd></dl>
</li>
</ul>
<a name="receiveUDP()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveUDP</h4>
<pre>public static&nbsp;byte[]&nbsp;receiveUDP()
                         throws <a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">Receive a message from ATE via UDP/IP. The ATEs IP address is specified 
 by an ate:a.b.c.d:xxxx:ppp message from ATE. This method simply returns 
 a payload bytes in a UDP packet without modification, i.e., the OCAPTest 
 doesnt concatenate a sequence of messages. It is responsibility of a 
 caller of this method to concatenate received byte arrays into an 
 original message according to ATE acknowledge protocol.  
 This method blocks the thread of a caller until receiving a UDP packet.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>byte  a payload bytes in a UDP packet. The byte length must be 
         less than a max length limited by the interaction channel and 
         it is responsibility of a caller of this method to do so.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - If there is any problem with I/O operations or an 
         interaction channel has not been initialized.</dd></dl>
</li>
</ul>
<a name="sendUDP(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>sendUDP</h4>
<pre>public static&nbsp;void&nbsp;sendUDP(byte[]&nbsp;rawMessage)
                    throws <a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></pre>
<div class="block">Send rawMessage to ATE via UDP/IP. The ATEs IP address is specified by 
 an ate:a.b.c.d:xxxx:ppp message from ATE. This method shall not 
 divide the specified rawMessage into some UDP packets. The specified 
 rawMessage shall be sent in a single UDP packet.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rawMessage</code> - byte data to be sent. The byte length must be 
         less than a max length limited by the interaction channel and 
         it is responsibility of a caller of this method to do so.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../java/io/IOException.html" title="class in java.io">IOException</a></code> - If there is any problem with I/O operations or an
         interaction channel has not been initialized.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OCAPTest.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/ocap/test/OCAPTest.html" target="_top">Frames</a></li>
<li><a href="OCAPTest.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012 <a href="http://www.cablelabs.com">CableLabs</a>. All Rights Reserved.</small></p>
</body>
</html>
