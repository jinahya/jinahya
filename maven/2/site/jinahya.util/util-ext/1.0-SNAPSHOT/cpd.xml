<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
<duplication lines="26" tokens="152">
<file line="105" path="D:\svnwc\jinahya.googlecode.com\maven\2\proj\jinahya.util\util-ext\trunk\src\main\java\jinahya\util\DependencyResolver.java"/>
<file line="266" path="D:\svnwc\jinahya.googlecode.com\maven\2\proj\jinahya.util\util-ext\trunk\src\main\java\jinahya\util\DependencyResolver.java"/>
<codefragment>
<![CDATA[
    public void removeDependencies(final T source, final T... targets) {

        if (source == null) {
            throw new IllegalArgumentException("param:0:: is null");
        }

        if (!type.isInstance(source)) {
            throw new IllegalArgumentException(
                "param:0:" + source.getClass() + ":" + source
                + " is not an instance of " + type);
        }

        if (targets == null) {
            throw new IllegalArgumentException("param:1:: is null");
        }

        for (int i = 0; i < targets.length; i++) {
            if (targets[i] != null && !type.isInstance(targets[i])) {
                throw new IllegalArgumentException(
                    "param:1[" + i + "]:" + targets[i].getClass() + ":"
                    + targets[i] + " is not an instance of " + type);
            }
        }

        synchronized (dependencies) {
            for (T target : targets) {
]]>
</codefragment>
</duplication>
<duplication lines="27" tokens="113">
<file line="142" path="D:\svnwc\jinahya.googlecode.com\maven\2\proj\jinahya.util\util-ext\trunk\src\main\java\jinahya\util\DependencyResolver.java"/>
<file line="303" path="D:\svnwc\jinahya.googlecode.com\maven\2\proj\jinahya.util\util-ext\trunk\src\main\java\jinahya\util\DependencyResolver.java"/>
<codefragment>
<![CDATA[
    public void removeDependency(final T source, final T target) {

        if (source == null) {
            throw new IllegalArgumentException("param:0:: is null");
        }

        if (!type.isInstance(source)) {
            throw new IllegalArgumentException(
                "param:0:" + source.getClass() + ":" + source
                + " is not an instance of " + type);
        }

        if (target != null) {

            if (!type.isInstance(target)) {
                throw new IllegalArgumentException(
                "param:1:" + target.getClass() + ":" + target
                + " is not an instance of " + type);
            }

            if (source.equals(target)) {
                return;
                //throw new IllegalArgumentException("self dependency");
            }
        }

        synchronized (dependencies) {
]]>
</codefragment>
</duplication>
<duplication lines="22" tokens="106">
<file line="70" path="D:\svnwc\jinahya.googlecode.com\maven\2\proj\jinahya.util\util-ext\trunk\src\main\java\jinahya\util\DependencyResolver.java"/>
<file line="142" path="D:\svnwc\jinahya.googlecode.com\maven\2\proj\jinahya.util\util-ext\trunk\src\main\java\jinahya\util\DependencyResolver.java"/>
<codefragment>
<![CDATA[
    public void addDependency(final T source, final T target) {

        if (source == null) {
            throw new IllegalArgumentException("param:0:: is null");
        }

        if (!type.isInstance(source)) {
            throw new IllegalArgumentException(
                "param:0:" + source.getClass() + ":" + source
                + " is not an instance of " + type);
        }

        if (target != null) {

            if (!type.isInstance(target)) {
                throw new IllegalArgumentException(
                "param:1:" + target.getClass() + ":" + target
                + " is not an instance of " + type);
            }

            if (source.equals(target)) {
                return;
]]>
</codefragment>
</duplication>
</pmd-cpd>