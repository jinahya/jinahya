<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
<duplication lines="134" tokens="296">
<file line="78" path="C:\Users\onacit\.hudson\jobs\jinahya.xml jaxp-utils\workspace\src\main\java\jinahya\xml\dompath\NodePath.java"/>
<file line="93" path="C:\Users\onacit\.hudson\jobs\jinahya.xml jaxp-utils\workspace\src\main\java\jinahya\xml\xpath\NodePath.java"/>
<codefragment>
<![CDATA[
        return path.evaluate(expression, node);
    }


    /**
     *
     * @param expression
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public Boolean evaluateBOOLEAN(final String expression,
                                   final boolean compile)
        throws XPathExpressionException {

        return (Boolean) evaluate(expression, XPathConstants.BOOLEAN, compile);
    }


    /**
     *
     * @param expression
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public boolean evaluateBoolean(final String expression,
                                   final boolean compile)
        throws XPathExpressionException {

        return evaluateBOOLEAN(expression, compile).booleanValue();
    }


    /**
     *
     * @param expression
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public Double evaluateNUMBER(final String expression, final boolean compile)
        throws XPathExpressionException {

        return (Double) evaluate(expression, XPathConstants.NUMBER, compile);
    }


    /**
     *
     * @param expression
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public double evaluateDouble(final String expression,
                                 final boolean compile)
        throws XPathExpressionException {

        return evaluateNUMBER(expression, compile).doubleValue();
    }


    /**
     *
     * @param expression
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public int evaluateInt(final String expression, final boolean compile)
        throws XPathExpressionException {

        return evaluateNUMBER(expression, compile).intValue();
    }


    /**
     *
     * @param expression
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public Node evaluateNODE(final String expression, final boolean compile)
        throws XPathExpressionException {

        return (Node) evaluate(expression, XPathConstants.NODE, compile);
    }


    /**
     *
     * @param expression
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public Element evaluateElement(final String expression,
                                   final boolean compile)
        throws XPathExpressionException {

        return (Element) evaluateNODE(expression, compile);
    }


    public NodeList evaluateNODESET(final String expression,
                                    final boolean compile)
        throws XPathExpressionException {

        return (NodeList) evaluate(expression, XPathConstants.NODESET, compile);
    }


    /**
     *
     * @param expression
     * @param returnType
     * @param compile
     * @return
     * @throws XPathExpressionException
     */
    public Object evaluate(final String expression, final QName returnType,
                           final boolean compile)
        throws XPathExpressionException {

        if (compile) {
            synchronized (expressions) {
                XPathExpression compiled = expressions.get(expression);
                if (compiled == null) {
                    compiled = path.compile(expression);
                    expressions.put(expression, compiled);
                }
                return compiled.evaluate(node, returnType);
]]>
</codefragment>
</duplication>
</pmd-cpd>